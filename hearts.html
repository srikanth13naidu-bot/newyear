<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magic Game</title>
<link rel="stylesheet" href="css/style.css">
<style>
body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    font-family: 'Shadows Into Light', cursive;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    overflow: hidden;
}

#magicgame {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    position: relative;
    text-align: center;
}

#magicgame h2 {
    font-size: 2.5rem;
    color: #fff;
    margin-bottom: 30px;
    text-shadow: 2px 2px 10px #ff70a6;
}

.symbols-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.symbol {
    width: 70px;
    height: 70px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5rem;
    transition: transform 0.2s, filter 0.3s;
}

.symbol:hover {
    transform: scale(1.3) rotate(10deg);
    filter: drop-shadow(0 0 10px #fff);
}

.popup-img {
    position: absolute;
    width: 150px;
    height: 150px;
    border-radius: 20px;
    object-fit: cover;
    overflow: hidden;
    border: 3px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.8), 
                0 0 40px rgba(255, 105, 180, 0.6);

    animation: popFloat 2s ease forwards;
}

@keyframes popAnim {
    0% { opacity: 0; transform: scale(0) translateY(0); }
    50% { opacity: 1; transform: scale(1.2) translateY(-50px); }
    100% { opacity: 1; transform: scale(1) translateY(-80px); }
}
.section-header {
    font-size: 2rem;
    color: #fff;
    text-align: center;
    margin-bottom: 20px;
    text-shadow: 2px 2px 10px #ff70a6;
    animation: fadeIn 2s ease;
}
@keyframes popFloat {
    0% {
        opacity: 0;
        transform: scale(0) rotate(-20deg);
    }
    40% {
        opacity: 1;
        transform: scale(1.2) rotate(5deg);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(-100px) rotate(0deg);
    }
}

@keyframes fadeIn {
    0% {opacity:0; transform: translateY(-20px);}
    100% {opacity:1; transform: translateY(0);}
}
#gallery {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 40px;
    gap: 20px;
    padding-bottom: 50px;
}

.gallery-img {
    width: 150px;
    height: 150px;
    border-radius: 15px;
    object-fit: cover;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    animation: fadeInGallery 0.8s ease forwards;
}

@keyframes fadeInGallery {
    0% { opacity: 0; transform: scale(0.5) rotate(-10deg); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); }
}

</style>
</head>
<body>
<section id="magicgame">
    <div class="section-header">Each little click, a memory of you üíñ</div>
    <h2>Click the Symbols! ‚ú®</h2>

    <div class="symbols-container">
        <div class="symbol" onclick="showPic(this,'assets/childhood1.jpg')">‚≠ê</div>
        <div class="symbol" onclick="showPic(this,'assets/childhood2.jpg')">ü¶ã</div>
        <div class="symbol" onclick="showPic(this,'assets/childhood3.jpg')">üåô</div>
        <div class="symbol" onclick="showPic(this,'assets/herpic5.jpg')">üíé</div>
        <div class="symbol" onclick="showPic(this,'assets/herpic2.jpg')">üß∏</div>
        <div class="symbol" onclick="showPic(this,'assets/herpic1.jpg')">‚ú®</div>
        <div class="symbol" onclick="showPic(this,'assets/herpic4.jpg')">üåü</div>
        <div class="symbol" onclick="showPic(this,'assets/herpic3.jpg')">ü¶Ñ</div>
    </div>

    <!-- Gallery container -->
    <div id="gallery" style="
        display:flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        margin-top: 30px;
    "></div>

    <audio id="pop-sound" src="assets/pop.mp3"></audio>
    <button id="nextBtn" onclick="goNext()" style="
        margin-top: 40px;
        padding: 15px 30px;
        font-size: 1.2rem;
        border: none;
        border-radius: 10px;
        background: #ff70a6;
        color: #fff;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        transition: transform 0.2s;
    ">Next ‚û°Ô∏è</button>
</section>

<script>
const clickedSymbols = new Set();

function showPic(el, imgSrc){
    if(clickedSymbols.has(el)) return; // already clicked
    clickedSymbols.add(el);

    document.getElementById('pop-sound').play();

    // Click animation
    el.style.transform = 'scale(0.8)';
    setTimeout(()=>{ el.style.transform='scale(1)'; },200);

    // Pop animation
    let popup = document.createElement('img');
    popup.src = imgSrc;
    popup.className = 'popup-img';
    document.body.appendChild(popup);

    let rect = el.getBoundingClientRect();
    popup.style.left = rect.left + rect.width/2 - 60 + 'px';
    popup.style.top = rect.top - 60 + 'px';

    createGlitter(el);

    // Move image into gallery after animation
    setTimeout(()=>{
        popup.remove();
        let g = document.createElement('img');
        g.src = imgSrc;
        g.style.width = '120px';
        g.style.height = '120px';
        g.style.objectFit = 'cover';
        g.style.borderRadius = '12px';
        g.style.boxShadow = '0 5px 15px rgba(0,0,0,0.3)';
        document.getElementById("gallery").appendChild(g);
    }, 900);
}
function createGlitter(el){
    for(let i=0;i<12;i++){
        let g = document.createElement('div');
        g.style.position='absolute';
        g.style.width='6px';
        g.style.height='6px';
        g.style.background='gold';
        g.style.borderRadius='50%';
        let rect = el.getBoundingClientRect();
        g.style.left = rect.left + rect.width/2 + 'px';
        g.style.top = rect.top + rect.height/2 + 'px';
        document.body.appendChild(g);
        let dx=(Math.random()-0.5)*100;
        let dy=(Math.random()-0.5)*100;
        g.animate([{transform:'translate(0,0)'},{transform:`translate(${dx}px,${dy}px)`}],{duration:700,easing:'ease-out'});
        setTimeout(()=>g.remove(),700);
    }
}
function goNext() {
    window.location.href = 'memory.html';
}
createFlowers(rect.left + rect.width/2, rect.top + rect.height/2);
function createFlowers(x, y){
    const flowers = ["üå∏","üíÆ","üå∫","üå∑","üíñ"];
    for(let i=0; i<6; i++){
        let f = document.createElement('div');
        f.className = "falling-flower";
        f.innerText = flowers[Math.floor(Math.random()*flowers.length)];
        f.style.left = (x + (Math.random()*40 - 20)) + "px";
        f.style.top = (y - 20) + "px";
        f.style.fontSize = (Math.random()*15 + 20) + "px";
        document.body.appendChild(f);

        setTimeout(()=> f.remove(), 1800);
    }
}


</script>
</body>
</html>
