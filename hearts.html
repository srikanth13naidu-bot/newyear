<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magic Game</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    font-family: 'Shadows Into Light', cursive;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    overflow: hidden; /* hide default scroll, we use custom scroll container */
}

/* Scrollable container for all content */
#magicgame {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    overflow: auto; /* enables scroll in all directions */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 50px;
    box-sizing: border-box;
}

/* Section headings */
.section-header, #magicgame h2 {
    color: #fff;
    text-shadow: 2px 2px 10px #ff70a6;
    text-align: center;
}

.section-header {
    font-size: 2rem;
    margin-bottom: 20px;
}

#magicgame h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
}

/* Symbols container */
.symbols-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
}

.symbol {
    width: 70px;
    height: 70px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5rem;
    transition: transform 0.2s, filter 0.3s;
}

.symbol:hover {
    transform: scale(1.3) rotate(10deg);
    filter: drop-shadow(0 0 10px #fff);
}

/* Pop floating images */
.popup-img {
    position: absolute;
    width: 150px;
    height: 150px;
    border-radius: 20px;
    object-fit: cover;
    overflow: hidden;
    border: 3px solid rgba(255,255,255,0.8);
    box-shadow: 0 0 25px rgba(255,255,255,0.8), 0 0 40px rgba(255,105,180,0.6);
    animation: popFloat 0.9s ease forwards;
}

@keyframes popFloat {
    0% { opacity: 0; transform: scale(0) rotate(-20deg); }
    40% { opacity: 1; transform: scale(1.2) rotate(5deg); }
    100% { opacity: 1; transform: scale(1) translateY(-100px) rotate(0deg); }
}

/* Gallery */
#gallery {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
}

.gallery-img {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    animation: fadeInGallery 0.8s ease forwards;
}

@keyframes fadeInGallery {
    0% { opacity: 0; transform: scale(0.5) rotate(-10deg); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); }
}

/* Next button */
#nextBtn {
    margin-top: 40px;
    padding: 15px 30px;
    font-size: 1.2rem;
    border: none;
    border-radius: 10px;
    background: #ff70a6;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.2s;
}

#nextBtn:hover {
    transform: scale(1.1);
}
</style>
</head>
<body>

<section id="magicgame">
    <div class="section-header">Each little click, a memory of you üíñ</div>
    <h2>Click the Symbols! ‚ú®</h2>

    <div class="symbols-container">
        <div class="symbol" data-src="assets/childhood1.jpg">‚≠ê</div>
        <div class="symbol" data-src="assets/childhood2.jpg">ü¶ã</div>
        <div class="symbol" data-src="assets/childhood3.jpg">üåô</div>
        <div class="symbol" data-src="assets/herpic5.jpg">üíé</div>
        <div class="symbol" data-src="assets/herpic2.jpg">üß∏</div>
        <div class="symbol" data-src="assets/herpic1.jpg">‚ú®</div>
        <div class="symbol" data-src="assets/herpic4.jpg">üåü</div>
        <div class="symbol" data-src="assets/herpic3.jpg">ü¶Ñ</div>
    </div>

    <div id="gallery"></div>

    <audio id="pop-sound" src="assets/pop.mp3"></audio>
    <button id="nextBtn" onclick="goNext()">Next ‚û°Ô∏è</button>
</section>

<script>
const clickedSymbols = new Set();
const symbols = document.querySelectorAll('.symbol');
const gallery = document.getElementById('gallery');
const popSound = document.getElementById('pop-sound');

symbols.forEach(symbol => {
    symbol.addEventListener('click', () => {
        if(clickedSymbols.has(symbol)) return;
        clickedSymbols.add(symbol);

        popSound.play();

        // Click animation
        symbol.style.transform = 'scale(0.8)';
        setTimeout(() => { symbol.style.transform = 'scale(1)'; }, 200);

        // Pop floating image
        const imgSrc = symbol.getAttribute('data-src');
        const popup = document.createElement('img');
        popup.src = imgSrc;
        popup.className = 'popup-img';
        document.body.appendChild(popup);

        const rect = symbol.getBoundingClientRect();
        popup.style.left = rect.left + rect.width/2 - 75 + 'px';
        popup.style.top = rect.top - 75 + 'px';

        // Glitter effect
        for(let i=0;i<12;i++){
            const g = document.createElement('div');
            g.style.position='absolute';
            g.style.width='6px';
            g.style.height='6px';
            g.style.background='gold';
            g.style.borderRadius='50%';
            g.style.left = rect.left + rect.width/2 + 'px';
            g.style.top = rect.top + rect.height/2 + 'px';
            document.body.appendChild(g);
            const dx = (Math.random()-0.5)*100;
            const dy = (Math.random()-0.5)*100;
            g.animate([{transform:'translate(0,0)'},{transform:`translate(${dx}px,${dy}px)`}],{duration:700,easing:'ease-out'});
            setTimeout(()=> g.remove(), 700);
        }

        // Add to gallery after popup
        setTimeout(() => {
            popup.remove();
            const gImg = document.createElement('img');
            gImg.src = imgSrc;
            gImg.className = 'gallery-img';
            gallery.appendChild(gImg);
        }, 900);
    });
});

function goNext() {
    window.location.href = 'memory.html';
}
</script>
</body>
</html>
