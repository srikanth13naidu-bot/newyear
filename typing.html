<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typing Proposal</title>
<link rel="stylesheet" href="css/style.css">
<style>
body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    min-height: 100vh;
    font-family: 'Shadows Into Light', cursive;
    overflow: hidden;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    animation: bgGradient 15s infinite alternate;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

/* Animated gradient background */
@keyframes bgGradient {
    0% { background: linear-gradient(135deg, #ff9a9e, #fad0c4);}
    50% { background: linear-gradient(135deg, #fbc2eb, #a6c1ee);}
    100% { background: linear-gradient(135deg, #ff9a9e, #fad0c4);}
}

/* Typing container */
#typing-container {
    position: relative;
    text-align: center;
    color: #6a0dad;
    font-size: 4rem;
    font-weight: bold;
    line-height: 1.4;
    padding: 30px 40px;
    border-radius: 20px;
    box-shadow: 0 0 60px rgba(255,255,255,0.4);
    background: rgba(255,255,255,0.05);
    z-index: 2;
    max-width: 90%;
    word-wrap: break-word;
    text-shadow: 2px 2px 15px rgba(255,255,255,0.6);
}

/* Cursor */
#cursor {
    display: inline-block;
    width: 4px;
    margin-left: 5px;
    background-color: #fff;
    animation: blink 1s infinite;
}
@keyframes blink {
    0%,50%,100%{opacity:1;}
    25%,75%{opacity:0;}
}

/* Next hint */
#nextHint {
    margin-top: 50px;
    z-index: 2;
}
#nextText {
    font-size: 1.5rem;
    color: #fff;
    display: inline-block;
    padding: 12px 25px;
    border-radius: 20px;
    background: linear-gradient(135deg, #ff9a9e, #ff70a6);
    cursor: pointer;
    animation: bounce 1.5s infinite alternate, shimmer 2s infinite;
}
@keyframes bounce {
    0% { transform: translateY(0);}
    100% { transform: translateY(-10px);}
}
@keyframes shimmer {
    0% { text-shadow: 0 0 5px #fff, 0 0 10px #ff9a9e;}
    50% { text-shadow: 0 0 15px #fff,0 0 20px #ff70a6;}
    100% { text-shadow: 0 0 5px #fff,0 0 10px #ff9a9e;}
}

/* Floating hearts & sparkles */
.floating-heart, .sparkle {
    position: absolute;
    font-size: 1.5rem;
    pointer-events: none;
    animation: floatUp 1.5s ease-out forwards;
}
@keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity:1; }
    100% { transform: translateY(-100px) scale(1.5); opacity:0;}
}
</style>
</head>
<body>

<div id="typing-container">
    <span id="typedText"></span><span id="cursor"></span>
</div>

<div id="nextHint">
    <div id="nextText" onclick="goNext()">üíñ Click here to see your surprise üíñ</div>
</div>

<audio id="heartbeat" src="assets/heartbeat.mp3"></audio>
<audio id="piano" src="assets/piano.mp3" loop></audio>

<script>
const message = "I love you, Sanchitha \u2764"; // ‚ù§Ô∏è 
let index = 0;
const typedText = document.getElementById('typedText');
const heartbeat = document.getElementById('heartbeat');
const piano = document.getElementById('piano');

// Play piano softly
piano.volume = 0.25;
piano.play();

function typeLetter(){
    if(index < message.length){
        const char = message[index];
        const span = document.createElement('span');
        span.textContent = char;
        // Random soft color
        span.style.color = `hsl(${Math.random()*50+300}, 80%, 45%)`;
        span.style.display = 'inline-block';
        span.style.transform = 'scale(0.5)';
        span.style.transition = 'transform 0.3s, color 0.3s';
        typedText.appendChild(span);

        // Bounce effect
        setTimeout(()=>{ span.style.transform='scale(1.2)'; },50);
        setTimeout(()=>{ span.style.transform='scale(1)'; },300);

        // Floating heart per letter
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.innerHTML = '&#128150;'; // üíñ
        const rect = span.getBoundingClientRect();
        heart.style.left = rect.left + rect.width/2 + 'px';
        heart.style.top = rect.top - 20 + 'px';
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),1500);

        // Play heartbeat
        heartbeat.currentTime = 0;
        heartbeat.play();

        index++;
        setTimeout(typeLetter, 200);
    }
}

// Start typing after short delay
setTimeout(typeLetter, 1000);

// Click sparkles anywhere
document.body.addEventListener('click', e=>{
    const sparkle = document.createElement('div');
    sparkle.className='sparkle';
    sparkle.innerText='‚ú®';
    sparkle.style.left = e.clientX + 'px';
    sparkle.style.top = e.clientY + 'px';
    document.body.appendChild(sparkle);
    setTimeout(()=>sparkle.remove(),1000);
});

// Navigate to proposal page
function goNext(){
    window.location.href='proposal.html';
}
// Floating flower petals in background
for(let i=0; i<25; i++){
    const petal = document.createElement('div');
    petal.innerText = 'üå∏'; // you can alternate 'üå∏' and 'üíê'
    petal.style.position = 'absolute';
    petal.style.fontSize = (15 + Math.random()*25) + 'px';
    petal.style.left = Math.random()*100 + 'vw';
    petal.style.top = Math.random()*-100 + 'vh';
    petal.style.opacity = 0.7 + Math.random()*0.3;
    petal.style.pointerEvents = 'none';
    petal.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(petal);

    // Animate falling
    const duration = 8 + Math.random()*5;
    petal.animate([
        { transform: `translateY(0) rotate(0deg)` },
        { transform: `translateY(100vh) rotate(${360 + Math.random()*360}deg)` }
    ], { duration: duration*1000, iterations: Infinity, easing: 'linear' });
}

// Interactive flower pop on click
document.body.addEventListener('click', e=>{
    const flower = document.createElement('div');
    flower.innerText = 'üå∏';
    flower.className='sparkle';
    flower.style.left = e.clientX + 'px';
    flower.style.top = e.clientY + 'px';
    flower.style.fontSize = '20px';
    document.body.appendChild(flower);
    setTimeout(()=>flower.remove(),1500);
});
</script>

</body>
</html>
